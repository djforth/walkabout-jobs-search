{"version":3,"sources":["../../src/tab_search/tab_button.js"],"names":[],"mappings":";;;;;;;;;;AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC;IACvB,CAAC,GAAM,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAEhC,IAAM,SAAS,GAAI,OAAO,CAAC,oBAAoB,CAAC,CAAC,UAAU,CAAC;;AAE5D,IAAM,UAAU,GAAI,OAAO,CAAC,yBAAyB,CAAC,CAAC;AACvD,IAAM,QAAQ,GAAM,OAAO,CAAC,sBAAsB,CAAC;;;;;;;;AAAC,IAQ9C,SAAS;YAAT,SAAS;;AAEb,WAFI,SAAS,CAED,KAAK,EAAE;0BAFf,SAAS;;uEAAT,SAAS,aAGL,KAAK;;AACX,QAAI,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC;AAC7B,UAAK,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAClC,UAAK,MAAM,CAAC,IAAI,CAAC,EAAC,MAAM,EAAC,IAAI,CAAC,MAAM,EAAC,CAAC,CAAC;AACvC,UAAK,KAAK,GAAG,EAAC,GAAG,EAAC,MAAK,UAAU,CAAC,MAAK,MAAM,CAAC,EAAC,CAAC;;GACjD;;eARG,SAAS;;yCAUQ;AACnB,cAAQ,CAAC,iBAAiB,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;KACtE;;;2CAEsB;AACtB,cAAQ,CAAC,oBAAoB,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;KAC7D;;;6BAEO;AACN,aACE;;UAAG,IAAI,EAAC,GAAG,EAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,AAAC,EAAC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,AAAC;QACvE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK;OACnB,CACJ;KACH;;;iCAEW;AACV,UAAI,MAAM,GAAG,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;AACrE,UAAI,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,UAAC,CAAC,EAAG;AACpC,YAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAC;AACf,WAAC,CAAC,MAAM,GAAG,MAAM,CAAC;SACnB;;AAED,eAAO,CAAC,CAAC;OACV,CAAC,CAAC;;AAEH,UAAI,CAAC,QAAQ,CAAC,EAAC,GAAG,EAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,EAAC,CAAC,CAAC;KACnD;;;8BAES,CAAC,EAAC;AACV,OAAC,CAAC,cAAc,EAAE,CAAC;;AAEnB,gBAAU,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;KAC5D;;;SA3CG,SAAS;GAAS,KAAK,CAAC,SAAS;;AA+CvC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;;AAE9C,MAAM,CAAC,OAAO,GAAG,SAAS,CAAC","file":"tab_button.js","sourcesContent":["const React = require(\"react\")\n     , _    = require(\"lodash\");\n\nconst cssMixins  = require(\"morse-react-mixins\").css_mixins;\n\nconst TabActions  = require(\"../actions/tabs_actions\");\nconst TabStore    = require(\"../stores/tabs_store\");\n\n// const Search       = require(\"../vanilla_components/search\");\n// const TabItems = require(\"./tab_items\");\n\n// var MorseBootstrap = require(\"morse-bootstrap-react\");\n// const FlashNotice  = MorseBootstrap.FlashNotice;\n\nclass TabButton extends React.Component {\n\n  constructor(props) {\n    super(props);\n    let opts = props.tab.options;\n    this.tabCSS = opts.css.split(\" \");\n    this.tabCSS.push({active:opts.active});\n    this.state = {css:this.getClasses(this.tabCSS)};\n  }\n\n  componentWillMount() {\n    TabStore.addChangeListener(\"tab_change\", this._tabChange.bind(this));\n  }\n\n  componentWillUnmount() {\n   TabStore.removeChangeListener(\"tab_change\", this._tabChange);\n  }\n\n  render(){\n    return (\n      <a href=\"#\" onClick={this._tabClick.bind(this)} className={this.state.css} >\n        {this.props.tab.title}\n      </a>\n    );\n  }\n\n  _tabChange(){\n    let active = TabStore.isActive(this.props.tabsId, this.props.tab.id);\n    this.tabCSS = _.map(this.tabCSS, (t)=>{\n      if(_.isObject(t)){\n        t.active = active;\n      }\n\n      return t;\n    });\n\n    this.setState({css:this.getClasses(this.tabCSS)});\n  }\n\n  _tabClick(e){\n    e.preventDefault();\n\n    TabActions.changeTab(this.props.tabsId, this.props.tab.id);\n  }\n\n}\n\nObject.assign(TabButton.prototype, cssMixins);\n\nmodule.exports = TabButton;\n"]}